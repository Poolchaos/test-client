<template>
  <div class="page">
    <div
      class="flex"
      class.bind="dataStore.user ? 'flex--justify-between' : 'flex--justify-center'"
    >
      <div style="min-width: 100px;" if.bind="dataStore.user">&nbsp;</div>
      <h2>Configured <span class="text-pink">Environments</span></h2>
      
      <div
        class="pink add-button"
        click.trigger="addEnvironment()"
        innerhtml.bind="icons.plus"
        click.trigger="addEnvironment()"
        if.bind="dataStore.user"
      ></div>
    </div>
    
    <section class="flex content-wrapper">

      <section class="flex" style="width: 100%;">
        <section
          class="flex flex--wrap flex--justify-left flex--basis flex--justify-center"
          style="padding: 0 5px;align-content: flex-start;"
        >
          <div
            if.bind="environments.length === 0"
            class="no-data-message"
            style="text-align: left;"
          >
            No environments have been set up.
          </div>
          <div
            click.trigger="showConfirmDeleteEnvironment(environment)"
            repeat.for="environment of environments"
            style="
              width: 300px;
              min-width: 300px;
              max-width: 300px;
              max-height: 150px;
              height: 150px;
              padding: 20px;
              background: #e51e5a;
              margin: 10px;
              border-radius: 5px;
            "
            style.bind="dataStore.user ? 'cursor: pointer;' : ''"
            mouseenter.trigger="hoverEnvironment(environment)"
            mouseleave.trigger="hoverOffEnvironment(environment)"
            class="flex flex--justify-center flex--align-center"
          >
            <div if.bind="!environment.isHovering">
              <h2 style="margin: 0 auto 20px;">
                ${environment.name}
              </h2>
              
              <section style="text-align: left;max-width: 100%;overflow: hidden;">
                <section style="font-size: 16px;">${environment.url}</section>
              </section>
            </div>
            
            <div if.bind="environment.isHovering" class="flex flex--align-center flex--justify-center">
              <div innerhtml.bind="icons.close" class="margin-right--10 svg white"></div> Delete
            </div>
          </div>
        </section>
      </section>

    </section>
  </div>
</template>
