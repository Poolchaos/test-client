<template
  bindable="
    index,
    step,
    icons,
    disableactions,

    confirmupdatestep,
    canceleditstep,
    editstep,
    deletestep,
  "
>
  <section>${index}&nbsp;-&nbsp;</section>
    <section if.bind="step.name === 'wait'" class="flex--basis text--left flex">
      Wait for&nbsp;
      <span if.bind="!step.editing" class="text--dimmed">${step.config.durationInSeconds}</span>
      <section class="is-relative" if.bind="step.editing">
        <input
          type="number"
          step="10"
          min="1"
          max="120"
          class="input-field"
          placeholder="Wait time"
          value.bind="step.editState.durationInSeconds"
          style="margin-bottom: 0;width: 50px;"
        />
      </section>
      &nbsp;seconds before continuing.
    </section>

    <section if.bind="step.name === 'text'" class="flex--basis text--left flex">
      Type&nbsp;
      <span class="text--dimmed" if.bind="!step.editing">${step.config.value}</span>
      <section class="is-relative" if.bind="step.editing">
        <input
          type="text"
          class="input-field"
          placeholder="Enter you ${step.config.label}"
          value.bind="step.editState.value"
          style="margin-bottom: 0;width: 150px;"
        />
      </section>
      &nbsp;into the&nbsp;
      <span class="text--dimmed">${step.config.label}</span>&nbsp;
      text field.
    </section>
    <section if.bind="step.name === 'Click Element'" class="flex--basis text--left flex">
      Click the&nbsp;
      <span class="text--dimmed">${step.config.targetType}</span>
      &nbsp;labelled&nbsp;
      <span class="text--dimmed">${step.config.label}</span>.
    </section>

    <section if.bind="step.name === 'Expect Content'" class="flex--basis text--left flex">
      I expect to see the&nbsp;
      <span class="text--dimmed" if.bind="!step.editing">${step.config.role}</span>
      <select
        class="input-field"
        value.bind="step.editState.role"
        if.bind="step.editing"
        style="width: 140px;margin-bottom: unset;"
      >
        <option>DEFAULT_USER</option>
        <option>Administrator</option>
        <option>Agent</option>
        <option>Team Leader</option>
        <option>Office Employee</option>
        <option>QA</option>
        <option>QA Manager</option>
        <option>Campaign Manager</option>
      </select>
      &nbsp;dashboard.
    </section>
    
    <div class="actions" if.bind="step.editing">
      <button
        class="full-blue"
        click.trigger="confirmupdatestep(step)"
        innerhtml.bind="icons.checkMark"
      ></button>
      <button
        class="full-pink"
        click.trigger="canceleditstep(step)"
        innerhtml.bind="icons.close"
      ></button>
    </div>
    <div class="actions" if.bind="!step.editing && !disableactions">
      <button
        class="blue"
        click.trigger="editStep(step)"
        innerhtml.bind="icons.pencil"
        if.bind="step.name !== 'Click Element'"
      ></button>
      <button
        class="pink"
        click.trigger="deleteStep(step)"
        innerhtml.bind="icons.close"
      ></button>
    </div>
</template>
