<template>
  <div class="app">
    <main class="main">
      <header class="top-menu">
        <nav class="menu">
          <ul class="menu-list">
            <li
              class="menu-item hoverable"
              click.trigger="home()"
              title="Home"
            >
              <div
                innerhtml.bind="icons.home"
                class="pink svg config-icon"
              ></div>
            </li>
            <li
              class="menu-item"
              mouseenter.trigger="menuEnter()"
              mouseleave.trigger="menuLeave('file')"
            >
              <a click.trigger="showMenu('file')">File</a>
              <nav
                class="sub-menu"
                if.bind="menu.file"
              >
                <ul>
                  <li
                    class="flex"
                    repeat.for="item of fileConfigurations"
                    click.trigger="item.customAction ? customAction('file', item.customAction) : navTo('file', item.route)"
                  >
                    <div
                      innerhtml.bind="icons[item.icon]"
                      class="white svg config-icon"
                      style="margin-right: 10px;"
                    ></div>
                    ${item.name}
                  </li>
                </ul>
              </nav>
            </li>
            <li
              class="menu-item"
              mouseenter.trigger="menuEnter()"
              mouseleave.trigger="menuLeave('edit')"
            >
              <a click.trigger="showMenu('edit')">Edit</a>
              <nav
                class="sub-menu"
                if.bind="menu.edit"
              >
                <ul>
                  <li
                    class="flex"
                    repeat.for="item of editConfigurations"
                    click.trigger="navTo('edit', item.route)"
                  >
                    <div
                      innerhtml.bind="icons[item.icon]"
                      class="white svg config-icon"
                      style="margin-right: 10px;"
                    ></div>
                    ${item.name}
                  </li>
                </ul>
              </nav>
            </li>
            <li
              class="menu-item"
              mouseenter.trigger="menuEnter()"
              mouseleave.trigger="menuLeave('view')"
            >
              <a click.trigger="showMenu('view')">View</a>
              <nav
                class="sub-menu"
                if.bind="menu.view"
              >
                <ul>
                  <li
                    class="flex"
                    repeat.for="item of viewConfigurations"
                    click.trigger="navTo('view', item.route)"
                  >
                    <div
                      innerhtml.bind="icons[item.icon]"
                      class="white svg config-icon"
                      style="margin-right: 10px;"
                    ></div>
                    ${item.name}
                  </li>
                </ul>
              </nav>
            </li>
            <li class="menu-item"><a>Help</a></li>
          </ul>
          <button
            class="full-pink button"
            if.bind="dataStore.user"
            click.trigger="logout()"
            style="height: 30px;"
          >
            Logout
          </button>
        </nav>
      </header>
      <router-view style="width: 100%;"></router-view>
    </main>
    <footer class="footer">
      <p>&copy; 2023 Zai Auto Test Studio</p>
    </footer>
  </div>
</template>
